{% extends "base.html" %}

{% block content %}
<div class="slide {{ style }}">
    <h1 class="slide-title">{{ title }}</h1>
    
    <div class="content-area">
        <div style="display: flex; gap: 60px; width: 100%; height: 100%;">
            <!-- Left Column -->
            <div style="flex: 1; display: flex; flex-direction: column; justify-content: flex-start; overflow: hidden;">
                {% for block in content_blocks %}
                    {% if block.type == 'text' and block.position.x < width // 2 %}
                        <div style="margin-bottom: 30px; overflow: hidden;">
                            {% if block.section_title %}
                                <div class="section-header">{{ block.section_title }}</div>
                            {% endif %}
                            <div class="text-content text-overflow-safe" style="-webkit-line-clamp: 8; max-height: calc(32px * 1.4 * 8);">{{ block.content }}</div>
                        </div>
                    {% elif block.type == 'image_placeholder' and block.image_path and block.position.x < width // 2 %}
                        <div class="image-container" style="position: relative; width: 100%; height: 350px; margin-bottom: 30px; max-width: none;">
                            <img src="{{ block.image_path }}" alt="Slide image">
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
            
            <!-- Right Column -->
            <div style="flex: 1; display: flex; flex-direction: column; justify-content: flex-start; overflow: hidden;">
                {% for block in content_blocks %}
                    {% if block.type == 'text' and block.position.x >= width // 2 %}
                        <div style="margin-bottom: 30px; overflow: hidden;">
                            {% if block.section_title %}
                                <div class="section-header">{{ block.section_title }}</div>
                            {% endif %}
                            <div class="text-content text-overflow-safe" style="-webkit-line-clamp: 8; max-height: calc(32px * 1.4 * 8);">{{ block.content }}</div>
                        </div>
                    {% elif block.type == 'image_placeholder' and block.image_path and block.position.x >= width // 2 %}
                         <div class="image-container" style="position: relative; width: 100%; height: 350px; margin-bottom: 30px; max-width: none;">
                            <img src="{{ block.image_path }}" alt="Slide image">
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
