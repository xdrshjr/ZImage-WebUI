{% extends "base.html" %}

{% block content %}
<div class="slide {{ style }}">
    <!-- Left-align title by removing inline center style -->
    <h1 class="slide-title">{{ title }}</h1>
    
    <!-- Remove align-items: center to allow left alignment of content flow -->
    <div class="content-area" style="flex-direction: column; padding: 0 40px;">
        {% for block in content_blocks %}
            {% if block.type == 'image_placeholder' and block.image_path %}
                <!-- Keep image centered visually as it looks better for 'middle image' layout -->
                <div class="image-container" style="position: relative; width: 80%; height: 35vh; margin: 10px auto 20px auto;">
                    <img src="{{ block.image_path }}" alt="Slide image">
                </div>
                <!-- Add separator after image -->
                <div class="content-divider"></div>
            {% endif %}
        {% endfor %}
        
        {% set text_block_count = namespace(value=0) %}
        {% for block in content_blocks %}
            {% if block.type == 'text' %}
                <!-- Text blocks align left naturally in the column. Added padding-left to align with title visual weight -->
                <div class="text-block-wrapper" style="text-align: left; width: 100%; max-width: 900px; margin-top: 0; margin-bottom: 24px; overflow: hidden;">
                    {% if block.section_title %}
                        <!-- Add section separator before section header -->
                        {% if text_block_count.value > 0 %}
                            <div class="section-separator"></div>
                        {% endif %}
                        {% if block.icon %}
                            <div class="section-header-with-icon">
                                <svg class="section-icon">
                                    <use href="#{{ block.icon }}"/>
                                </svg>
                                <div class="section-header" style="text-align: left;">{{ block.section_title }}</div>
                            </div>
                        {% else %}
                            <div class="section-header" style="text-align: left;">{{ block.section_title }}</div>
                        {% endif %}
                    {% endif %}
                    <div class="text-content" style="text-align: left;">{{- block.content -}}</div>
                </div>
                {% set text_block_count.value = text_block_count.value + 1 %}
            {% endif %}
        {% endfor %}
    </div>
    
    <!-- Footer accent line -->
    <div class="footer-accent"></div>
</div>
{% endblock %}
